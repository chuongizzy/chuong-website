<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Opening Spotify… | Chuong</title>
  <meta name="description" content="Hang tight—opening chuong on Spotify." />
  <link rel="preconnect" href="https://open.spotify.com" />
  <link rel="dns-prefetch" href="https://open.spotify.com" />
  <link rel="preload" as="image" href="/images/thesuniscallingmeback.jpg" />

  <meta property="og:title" content="Opening Spotify… | chuong" />
  <meta property="og:description" content="Hang tight—opening chuong on Spotify." />
  <meta property="og:image" content="/images/thesuniscallingmeback.jpg" />
  <meta property="og:type" content="website" />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap');
    :root {
      --bg: #0a0a0a;
      --fg: #f5f5f5;
      --muted: #aaa;
      --accent: #1ed760; /* Spotify green */
    }
    html, body { height: 100%; margin: 0; }
    body {
      background: var(--bg); color: var(--fg);
      display: grid; place-items: center;
      font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      overflow: hidden;
    }
    header {
      position: fixed; top: 16px; left: 16px; font-weight: 700;
      letter-spacing: 0.5px; text-transform: lowercase; color: #fff; opacity:.9;
      animation: glitch 2s infinite;
    }
    .card {
      width: min(520px, 92vw); border-radius: 16px; padding: 28px;
      background: #0f0f0f;
      box-shadow: 0 10px 40px rgba(0,0,0,0.45);
      display: grid; gap: 18px; text-align: center;
      animation: floaty 3s ease-in-out infinite;
    }
    .art {
      border-radius: 16px; width: 100%; aspect-ratio: 1/1; object-fit: cover;
      filter: contrast(1.1) brightness(0.9) saturate(1.2);
      animation: pulse 1.6s infinite alternate;
    }
    .title { font-size: 1.25rem; font-weight: 700; }
    .subtitle { color: var(--muted); font-size: 0.95rem; }
    .bar { height: 6px; width: 100%; background: #1a1a1a; border-radius: 999px; overflow: hidden; }
    .bar > i {
      display: block; height: 100%; width: 30%;
      background: linear-gradient(90deg, var(--accent), #62ff9e);
      border-radius: inherit; animation: load 1.2s ease-in-out infinite;
    }
    .cta { display: inline-block; padding: 12px 18px; border-radius: 999px;
      background: var(--accent); color: #0b0b0b; font-weight: 700; text-decoration: none; }
    .helper { color: var(--muted); font-size: 0.9rem; }

    @keyframes load {
      0% { transform: translateX(-100%); }
      50% { transform: translateX(50%); }
      100% { transform: translateX(200%); }
    }
    @keyframes pulse {
      from { transform: scale(1); filter: contrast(1) brightness(0.9); }
      to { transform: scale(1.02); filter: contrast(1.1) brightness(1); }
    }
    @keyframes glitch {
      0% { text-shadow: 2px 2px #1ed760, -2px -2px #ff0055; }
      20% { text-shadow: -2px -1px #1ed760, 2px 1px #ff0055; }
      40% { text-shadow: 2px -2px #1ed760, -1px 2px #ff0055; }
      60% { text-shadow: -1px 2px #1ed760, 1px -2px #ff0055; }
      80% { text-shadow: 1px 1px #1ed760, -1px -1px #ff0055; }
      100% { text-shadow: 2px 2px #1ed760, -2px -2px #ff0055; }
    }
    @keyframes floaty {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
    }
    /* Glitchcore/Naturecore 1s micro-animations */
    .card { position: relative; }
    /* soft scanline overlay */
    body::before { content:''; position:fixed; inset:0; pointer-events:none; background: repeating-linear-gradient( to bottom, rgba(255,255,255,0.02) 0px, rgba(255,255,255,0.02) 1px, transparent 2px ); mix-blend-mode: overlay; opacity: .25; }
    /* grain */
    body::after { content:''; position:fixed; inset:0; pointer-events:none; background-image: url('data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'160\' height=\'160\'><filter id=\'n\'><feTurbulence type=\'fractalNoise\' baseFrequency=\'0.8\' numOctaves=\'4\' stitchTiles=\'stitch\'/></filter><rect width=\'100%\' height=\'100%\' filter=\'url(%23n)\' opacity=\'0.04\'/></svg>'); opacity:.5; mix-blend-mode:soft-light; }
    /* chromatic aberration flicker on art */
    .art { animation: chroma .9s ease-in-out 1; box-shadow: 0 12px 30px rgba(0,0,0,.5); }
    @keyframes chroma {
      0% { filter: saturate(1) contrast(1) drop-shadow(0 0 0 rgba(30,215,96,0)); transform: scale(1); }
      15% { filter: saturate(1.1) contrast(1.05) hue-rotate(5deg); transform: scale(1.01); }
      40% { filter: saturate(1.2) contrast(1.1) drop-shadow(0 0 12px rgba(30,215,96,.25)); }
      70% { filter: saturate(1.05) contrast(1.02); transform: scale(1.005); }
      100% { filter: none; transform: none; }
    }
    /* subtle leaf sway bars in loading indicator */
    .bar > i { animation: load 1.1s ease-in-out infinite, shimmer 1.8s ease-in-out infinite; }
    @keyframes shimmer { 0%,100% { filter: hue-rotate(0deg); } 50% { filter: hue-rotate(20deg) saturate(1.2); } }
</style>

  <!-- ===== Meta Pixel ===== -->
  <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n; n.push=n; n.loaded=!0; n.version='2.0'; n.queue=[];
    t=b.createElement(e); t.async=!0; t.src=v;
    s=b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t,s)}(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1484525092683430');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1484525092683430&ev=PageView&noscript=1"/></noscript>

  <!-- ===== Google Tag (GA4) ===== -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3BB1WZB4YS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);} gtag('js', new Date());
    gtag('config', 'G-3BB1WZB4YS');
  </script>
  <!-- ===== Meta Pixel (ID: 1484525092683430) ===== -->
  <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1484525092683430');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1484525092683430&ev=PageView&noscript=1"/></noscript>
  <!-- ===== End Meta Pixel ===== -->

  <!-- ===== Google Analytics 4 (Measurement ID: G-3BB1WZB4YS) ===== -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3BB1WZB4YS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);} gtag('js', new Date());
    gtag('config', 'G-3BB1WZB4YS');
  </script>
  <!-- ===== End GA4 ===== -->

  <!-- ===== Fonts: Inter (close to your site look) ===== -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>
  <header>chuong</header>
  <main class="card">
    <img class="art" src="/images/thesuniscallingmeback.jpg" alt="Cover art for chuong - the sun is calling me back" />
    <div class="title">Opening Spotify…</div>
    <div class="subtitle">If nothing happens, tap the button below.</div>
    <div class="bar" aria-hidden="true"><i></i></div>
    <a id="fallbackBtn" class="cta" href="#">Open in Spotify</a>
    <div class="helper">Trouble? <a id="hardLink" href="#" style="color:#fff; text-decoration:underline">Open directly</a></div>
    <p class="sr-only" id="status">Preparing redirect to Spotify</p>
  </main>

  <script>
    const SPOTIFY_URL = 'https://open.spotify.com/track/0upSCAtAQ6dF3p8yY5h7OK?si=fcf91d11e39746e8';
    const REDIRECT_DELAY_MS = 1000;

    function withUTM(baseUrl) {
      try {
        const base = new URL(baseUrl);
        const current = new URL(window.location.href);
        current.searchParams.forEach((v, k) => {
          if (/^(utm_|fbclid|gclid|ttclid|msclkid)/i.test(k)) {
            base.searchParams.set(k, v);
          }
        });
        return base.toString();
      } catch (e) { return baseUrl; }
    }
    const TARGET = withUTM(SPOTIFY_URL);

    const fallback = document.getElementById('fallbackBtn');
    const hardLink = document.getElementById('hardLink');
    fallback.href = TARGET;
    hardLink.href = TARGET;

    function fireCustomEvents() {
      try { if (window.fbq) { fbq('trackCustom', 'SpotifyRedirectIntent'); } } catch(e){}
      try { window.dataLayer = window.dataLayer || []; window.dataLayer.push({event:'spotify_redirect_intent'}); } catch(e){}
    }

    window.addEventListener('load', function () {
      const status = document.getElementById('status');
      status.textContent = 'Opening Spotify';
      fireCustomEvents();
      setTimeout(() => { window.location.replace(TARGET); }, REDIRECT_DELAY_MS);
      setTimeout(() => { fallback.style.boxShadow = '0 0 0 4px rgba(30,215,96,0.45)'; }, 2500);
    });
  </script>

  <noscript>
    <div style="position:fixed;inset:0;display:grid;place-items:center;background:#0b0b0b;color:#fff;font-family:'Space Grotesk',sans-serif">
      <div style="text-align:center;max-width:520px;padding:24px">
        <img src="/images/thesuniscallingmeback.jpg" alt="Cover art" style="width:100%;height:auto;border-radius:16px;margin-bottom:16px"/>
        <h1 style="margin:0 0 8px">Open in Spotify</h1>
        <p style="margin:0 0 16px;color:#bdbdbd">JavaScript is disabled. Tap below to continue.</p>
        <p><a href="https://open.spotify.com/track/0upSCAtAQ6dF3p8yY5h7OK?si=fcf91d11e39746e8" style="display:inline-block;padding:12px 18px;border-radius:999px;background:#1ed760;color:#0b0b0b;font-weight:700;text-decoration:none">Open in Spotify</a></p>
      </div>
    </div>
  </noscript>
</body>
</html>
